import{w as h,x,a as i,p as e,v as p}from"./chunk-EPOLDU6W-BbN4KRE8.js";import{u as f}from"./puter-CxLeiHHH.js";import{N as c}from"./Navbar-BCP2X6ZB.js";function y(){return[{title:"Wipe Data | Resumind"},{name:"description",content:"Clear all your resume data"}]}const j=()=>{const{auth:r,isLoading:n,kv:o}=f(),s=x(),[m,l]=i.useState(!1),[d,a]=i.useState("");i.useEffect(()=>{!n&&!r.isAuthenticated&&s("/auth?next=/wipe")},[n,r.isAuthenticated,s]);const u=async()=>{try{l(!0),a("Clearing all data..."),await o.flush(),a("All data cleared successfully!"),setTimeout(()=>{s("/")},2e3)}catch(t){const g=t instanceof Error?t.message:String(t);a(`Error: ${g}`),l(!1)}};return m?e.jsxs("main",{className:"bg-[url('/images/bg-main.svg')] bg-cover",children:[e.jsx(c,{}),e.jsx("section",{className:"main-section",children:e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Clearing Data"}),e.jsx("h2",{children:d}),e.jsx("img",{src:"/images/resume-scan.gif",className:"w-full"})]})})]}):e.jsxs("main",{className:"bg-[url('/images/bg-main.svg')] bg-cover",children:[e.jsx(c,{}),e.jsx("section",{className:"main-section",children:e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Clear All Data"}),e.jsx("h2",{children:"This will permanently delete all your saved resumes and feedback."}),e.jsxs("div",{className:"flex flex-col gap-4 mt-8 items-center",children:[e.jsx("button",{onClick:u,className:"primary-button bg-red-500 hover:bg-red-600",children:"Delete All Data"}),e.jsx(p,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Cancel and go back"})]})]})})]})},w=h(j);export{w as default,y as meta};
